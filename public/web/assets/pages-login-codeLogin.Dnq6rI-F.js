import{_ as e,I as s,N as t,O as l,r as o,a,c as i,w as c,i as n,e as d,P as u,o as h,l as r,m as b,t as f,D as m,v as p}from"./index-BsDKjH72.js";const k=e({data:()=>({mobile:"",code:"",second:120,isCheck:!0}),methods:{onSubmit(){this.isCheck?s.mobile(this.mobile)?this.code?this.util.request("user/login",{account:this.mobile,login_type:1,captcha:this.code}).then((e=>{this.util.showToast("登录成功"),t("token",e.token.access_token),l({url:"/pages/home"})})):this.util.showToast("请输入验证码"):this.util.showToast("请输入正确的手机号"):this.util.showToast("请阅读并同意协议")},onSend(){120==this.second?s.mobile(this.mobile)?this.util.request("sms/send",{mobile:this.mobile,event:"login"}).then((e=>{this.util.showToast("发送成功"),this.second--,this.codeInterval()})):this.util.showToast("请输入正确的手机号"):this.util.showToast("请等待倒计时结束后重新获取")},codeInterval(){let e=setInterval((()=>{0!=this.second?this.second--:(this.second=120,clearInterval(e))}),1e3)}}},[["render",function(e,s,t,l,k,_){const g=n,x=o(a("up-input"),d),w=p,C=o(a("up-checkbox"),u);return h(),i(g,{class:"p30"},{default:c((()=>[r(g,{class:"fs44 col-333 text-weight"},{default:c((()=>[b(" 欢迎登录平台名称 ")])),_:1}),r(g,{class:"mt70 ptb30 borB"},{default:c((()=>[r(x,{modelValue:k.mobile,"onUpdate:modelValue":s[0]||(s[0]=e=>k.mobile=e),placeholder:"请输入手机号或E-mail",border:"none"},null,8,["modelValue"])])),_:1}),r(g,{class:"ptb30 borB flex align-center flex-between"},{default:c((()=>[r(x,{modelValue:k.code,"onUpdate:modelValue":s[1]||(s[1]=e=>k.code=e),placeholder:"请输入验证码",border:"none"},null,8,["modelValue"]),r(g,{class:"btnbg w208 h52 fs22",onClick:_.onSend},{default:c((()=>[b(f(120==k.second?"获取验证码":k.second+"s"),1)])),_:1},8,["onClick"])])),_:1}),r(g,{class:"mt156"},{default:c((()=>[r(g,{onClick:_.onSubmit,class:"btnbg w690 h80 fs32 text-weight"},{default:c((()=>[b(" 登录 ")])),_:1},8,["onClick"]),r(g,{class:"mt18 plr30 fs28 col-zs text-weight flex align-center flex-between"},{default:c((()=>[r(g,{class:"",onClick:s[2]||(s[2]=s=>e.util.urlTo("/pages/login/register"))},{default:c((()=>[b(" 新用户注册 ")])),_:1}),r(g,{class:"",onClick:s[3]||(s[3]=s=>e.util.backTo())},{default:c((()=>[b(" 密码登录 ")])),_:1})])),_:1})])),_:1}),r(g,{class:"flex align-center justify-center fs24 foot-box pb40 col-999"},{default:c((()=>[r(C,{name:"isCheck",activeColor:"#47BADE",usedAlone:"",size:"16",checked:k.isCheck,"onUpdate:checked":s[6]||(s[6]=e=>k.isCheck=e)},{label:c((()=>[r(g,null,{default:c((()=>[b(f(e.$t("我已阅读并同意")),1),r(w,{class:"col-zs",onClick:s[4]||(s[4]=m((s=>e.util.urlTo("/pages/index/index?type=1")),["stop"]))},{default:c((()=>[b("《"+f(e.$t("平台名称用户协议"))+"》",1)])),_:1}),r(w,{class:"col-zs",onClick:s[5]||(s[5]=m((s=>e.util.urlTo("/pages/index/index?type=2")),["stop"]))},{default:c((()=>[b("《"+f(e.$t("平台名称隐私条款"))+"》",1)])),_:1})])),_:1})])),_:1},8,["checked"])])),_:1})])),_:1})}]]);export{k as default};
