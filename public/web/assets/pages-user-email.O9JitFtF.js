import{_ as e,I as t,r as s,a,c as l,w as o,i,e as n,o as c,l as h,m as d,t as u}from"./index-BsDKjH72.js";const m=e({data:()=>({email:"",second:60,captcha:""}),methods:{onSend(){60==this.second?t.email(this.email)?this.util.request("ems/send",{email:this.email,event:"changemobile"}).then((e=>{this.util.showToast("发送成功"),this.second--,this.codeInterval()})):this.util.showToast("请输入正确的邮箱"):this.util.showToast("请等待倒计时结束后重新获取")},codeInterval(){let e=setInterval((()=>{0!=this.second?this.second--:(this.second=60,clearInterval(e))}),1e3)},onSubmit(){this.email?this.captcha?this.util.request("changeEmail",{email:this.email,captcha:this.captcha}).then((e=>{this.util.showToast("操作成功",!0)})):this.util.showToast("请输入验证码"):this.util.showToast("请输入新的邮箱")}}},[["render",function(e,t,m,r,f,p){const b=i,w=s(a("up-input"),n);return c(),l(b,{class:"p30"},{default:o((()=>[h(b,{class:"fs44 col-333 text-weight"},{default:o((()=>[d(" 修改邮箱 ")])),_:1}),h(b,{class:"mt70 flex align-center borB ptb30"},{default:o((()=>[h(b,{class:"w158 fs32 col-333"},{default:o((()=>[d("邮箱")])),_:1}),h(w,{modelValue:f.email,"onUpdate:modelValue":t[0]||(t[0]=e=>f.email=e),placeholder:"请输入新的邮箱",border:"none"},null,8,["modelValue"])])),_:1}),h(b,{class:"mt40 flex align-center borB ptb30"},{default:o((()=>[h(b,{class:"w158 fs32 col-333"},{default:o((()=>[d("验证码")])),_:1}),h(w,{modelValue:f.captcha,"onUpdate:modelValue":t[1]||(t[1]=e=>f.captcha=e),placeholder:"输入验证码",border:"none"},null,8,["modelValue"]),h(b,{class:"btnbg w144 h52 fs22",onClick:p.onSend},{default:o((()=>[d(u(60==f.second?"获取验证码":f.second+"s"),1)])),_:1},8,["onClick"])])),_:1}),h(b,{class:"foot-box ptb30 flex-center-center"},{default:o((()=>[h(b,{onClick:p.onSubmit,class:"btnbg w690 h80"},{default:o((()=>[d(" 保存 ")])),_:1},8,["onClick"])])),_:1})])),_:1})}]]);export{m as default};
