import{_ as e,I as t,r as s,a as l,c as o,w as a,i,e as n,o as c,l as d,m as h,t as u}from"./index-BsDKjH72.js";const r=e({data:()=>({mobile:"",captcha:"",second:60}),methods:{onSend(){60==this.second?t.mobile(this.mobile)?this.util.request("sms/send",{mobile:this.mobile,event:"changemobile"}).then((e=>{this.util.showToast("发送成功"),this.second--,this.codeInterval()})):this.util.showToast("请输入正确的电话号码"):this.util.showToast("请等待倒计时结束后重新获取")},codeInterval(){let e=setInterval((()=>{0!=this.second?this.second--:(this.second=60,clearInterval(e))}),1e3)},onSubmit(){t.mobile(this.mobile)?this.util.request("user/changeMobile",{mobile:this.mobile,captcha:this.captcha}).then((e=>{this.util.showToast("操作成功"),this.util.toLogin()})):this.util.showToast("请输入正确的电话号码")}}},[["render",function(e,t,r,b,m,f){const p=i,w=s(l("up-input"),n);return c(),o(p,{class:"p30"},{default:a((()=>[d(p,{class:"fs44 col-333 text-weight"},{default:a((()=>[h(" 修改电话号码 ")])),_:1}),d(p,{class:"mt70 flex align-center borB ptb30"},{default:a((()=>[d(p,{class:"w158 fs32 col-333"},{default:a((()=>[h("电话号码")])),_:1}),d(w,{modelValue:m.mobile,"onUpdate:modelValue":t[0]||(t[0]=e=>m.mobile=e),placeholder:"请输入新的电话号码",border:"none"},null,8,["modelValue"])])),_:1}),d(p,{class:"mt40 flex align-center borB ptb30"},{default:a((()=>[d(p,{class:"w158 fs32 col-333"},{default:a((()=>[h("验证码")])),_:1}),d(w,{modelValue:m.captcha,"onUpdate:modelValue":t[1]||(t[1]=e=>m.captcha=e),placeholder:"输入验证码",border:"none"},null,8,["modelValue"]),d(p,{class:"btnbg w144 h52 fs22",onClick:f.onSend},{default:a((()=>[h(u(60==m.second?"获取验证码":m.second+"s"),1)])),_:1},8,["onClick"])])),_:1}),d(p,{class:"foot-box ptb30 flex-center-center"},{default:a((()=>[d(p,{onClick:f.onSubmit,class:"btnbg w690 h80"},{default:a((()=>[h(" 保存 ")])),_:1},8,["onClick"])])),_:1})])),_:1})}]]);export{r as default};
